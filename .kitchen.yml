---
driver:
  name: vagrant

provisioner:
  name: chef_zero

platforms:
  - name: centos-6.7-vbox
    driver:
      box: bento/centos-6.7
      box_url: bento/centos-6.7
      provider: virtualbox
  - name: centos-6.7-vmware
    driver:
      box: bento/centos-6.7
      box_url: bento/centos-6.7
      provider: vmware_fusion

suites:
  - name: default-server
    driver:
      network:
      - ["private_network", {ip: "10.0.0.10"}]
    run_list:
      - recipe[owi-consul::server]
    data_path: './test/fixtures/files/'
    attributes: {
      'consul' : {
        'config' : {
          'acl_datacenter' : 'kitchen_server',
          'datacenter' : 'kitchen_center',
          'server' : true,
          'server_name' : 'test_server',
          'enable_syslog' : true,
          'ui' : true,
          'verify_incoming' : true,
          'verify_outgoing' : true,
          'ca_file' : '/tmp/kitchen/data/rootCA.pem',
          'cert_file' : '/tmp/kitchen/data/rootCA.crt',
          'key_file' : '/tmp/kitchen/data/rootCA.key'
        }
      }
    }
    